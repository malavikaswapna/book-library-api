{"ast":null,"code":"export const getTokenData = () => {\n  const token = localStorage.getItem('token');\n  if (!token) return null;\n  try {\n    const base64Url = token.split('.')[1];\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    const payload = JSON.parse(window.atob(base64));\n    return payload;\n  } catch (error) {\n    console.error(\"Error decoding token:\", error);\n    return null;\n  }\n};\nexport const getUserRole = () => {\n  const tokenData = getTokenData();\n  return (tokenData === null || tokenData === void 0 ? void 0 : tokenData.role) || 'user';\n};\nexport const checkUserRole = requiredRole => {\n  const userRole = getUserRole();\n  return userRole === requiredRole || userRole === 'admin';\n};","map":{"version":3,"names":["getTokenData","token","localStorage","getItem","base64Url","split","base64","replace","payload","JSON","parse","window","atob","error","console","getUserRole","tokenData","role","checkUserRole","requiredRole","userRole"],"sources":["/home/codio/workspace/book-library-frontend/src/userUtils.js"],"sourcesContent":["export const getTokenData = () => {\n  const token = localStorage.getItem('token');\n  if (!token) return null;\n\n  try {\n\n    const base64Url = token.split('.')[1];\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    const payload = JSON.parse(window.atob(base64));\n\n    return payload;\n  } catch (error) {\n    console.error(\"Error decoding token:\", error);\n    return null;\n  }\n};\n\nexport const getUserRole = () => {\n  const tokenData = getTokenData();\n  return tokenData?.role || 'user';\n};\n\nexport const checkUserRole = (requiredRole) => {\n  const userRole = getUserRole();\n  return userRole === requiredRole || userRole === 'admin';\n}"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAGA,CAAA,KAAM;EAChC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,EAAE,OAAO,IAAI;EAEvB,IAAI;IAEF,MAAMG,SAAS,GAAGH,KAAK,CAACI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrC,MAAMC,MAAM,GAAGF,SAAS,CAACG,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;IAC9D,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,IAAI,CAACN,MAAM,CAAC,CAAC;IAE/C,OAAOE,OAAO;EAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,OAAO,IAAI;EACb;AACF,CAAC;AAED,OAAO,MAAME,WAAW,GAAGA,CAAA,KAAM;EAC/B,MAAMC,SAAS,GAAGhB,YAAY,CAAC,CAAC;EAChC,OAAO,CAAAgB,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEC,IAAI,KAAI,MAAM;AAClC,CAAC;AAED,OAAO,MAAMC,aAAa,GAAIC,YAAY,IAAK;EAC7C,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,OAAOK,QAAQ,KAAKD,YAAY,IAAIC,QAAQ,KAAK,OAAO;AAC1D,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}